#
# $Id: Makefile,v 1.8 2001/02/10 18:15:35 sufrin Exp $
#
# -----------------------------------------------------------------------------
# Fill in this form
# -----------------------------------------------------------------------------

# 1. Name and version for binaries and tar files
NAME            =  picoml
MAIN            =  main
VERSION         =  $(shell awk '/Id:.*\$$/{printf $$3;}' $(MAIN).ml)

# 2. Primary Sources: in order needed for loading (.mly, .mll files included)
SOURCES         =  number.ml utils.ml mapping.ml pointer.ml trace.ml type.ml syntax.ml semantics.ml builtin.ml parse.mly \
                   lex.mll  env.ml infer.ml datatype.ml top.ml main.ml 
                   
Cflags  = -custom -w -8
Oflags  = -unsafe -noassert -w -8
CMA     = nums.cma unix.cma
LIBS    = -cclib -lnums -cclib -lunix

# 3. ML sources generated by some tool (lex, yacc, ...) below.
GENERATED       = lex.ml parse.ml parse.mli utils.mli

# 4. Test files: checkpointed but not listed
TESTS           = $(shell echo *.pml)

# 5. Listing files: listed along with the sources
LISTING         = parse.mli 

# 6. Command to run whenever make runs
ALWAYS          = echo bed Makefile $(SOURCES)

# 7. Top level project directory (where to find the makefiles we depend on)
TOPLEVEL        = .

# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
include         $(TOPLEVEL)/Makefile.ocaml.project
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------
# -----------------------------------------------------------------------------














































